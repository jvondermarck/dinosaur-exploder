services:
  dinosaur-game:
    build:
      context:  .
      dockerfile: Dockerfile
    container_name: dinosaur-game-dev
    ports:
      - "10000:10000"
    environment:
      - PORT=10000
      - MAVEN_OPTS=-Xmx2g -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0
      - JAVA_OPTS=-Dprism.order=sw -Dprism.verbose=true
    deploy:
      resources:
        limits:
          cpus: '4'
          memory:  4G
        reservations:
          memory: 1G
    restart: unless-stopped